function(e) {

    var response = {};
    var enemy = e.data.enemyTank;
    var me = e.data.myTank;

    var input = [
        e.data.currentGameTime / 40000.0,
        me.x / 500.0, me.y / 500.0,
        me.rotation / 360.0, me.cannonRotation / 360.0,
        me.velocityX % 16, me.velocityY % 16,
        me.accelerationX / 0.05, me.accelerationY / 0.05,
        me.shootCooldown / 100,
        enemy.x / 500.0, enemy.y / 500.0,
        enemy.rotation / 360.0, enemy.cannonRotation / 360.0,
        enemy.velocityX % 16, enemy.velocityY % 16,
        enemy.accelerationX / 0.05, enemy.accelerationY / 0.05,
        enemy.shootCooldown / 100,
    ];

    var weights1 = [
        [-0.138873265945, 0.079212830985, 0.001911931187, 0.024597413676, 0.172677820878, 0.459322028728, 0.072901176047],
        [0.169192039089, -0.231533397352, -0.138249746498, -0.084724441113, -2.298422268232, -4.290113362108, -0.150080626829],
        [-0.04878038957, -0.095495004485, 0.221200940248, 0.030385644487, -0.663888925139, -1.295286524648, -0.158775219011],
        [0.43880880365, -1.08854792857, 0.268186624185, 0.406799608456, 1.269953818771, -0.076371420715, 0.428971998699],
        [0.253040465841, 1.491028728304, 0.420007379992, -0.259556825762, -1.911864128086, -0.534021944262, -0.184322386994],
        [-1.016552000291, 0.719767315086, 1.012020192685, 0.446918951588, -0.362836729122, -0.865526893381, 0.030687063017],
        [0.626425263782, 0.823340430421, -2.037736628413, -0.58311812588, 1.121077385342, -2.551866587359, -0.759149731937],
        [-0.2494235605, 0.115273115118, 0.207564185189, 0.339135375573, -0.861455314459, 0.646975448557, 0.73719114065],
        [0.764799154491, 0.582028460688, -1.027783294925, 1.618591963353, 2.759357953692, -1.024424642043, 0.897941336025],
        [0.216449004467, -0.553906436611, 0.380075662727, -0.113123728286, -0.375754099669, -0.959940817414, -0.242065712546],
        [-0.413308954033, -0.084516521043, 0.288965399584, 0.029169547385, -1.254049244059, -1.490625133932, 0.310306413309],
        [0.353549413322, 0.013268905244, 0.823145958327, 0.11622628867, -0.630550875815, -0.70328484065, 0.169093582947],
        [0.577716612225, 0.519243659542, -0.090386916102, 0.093729412879, -0.783773007569, -1.413111027783, -0.054359253252],
        [-0.82733798147, 0.791918463352, -0.246494068828, 0.18230855398, 0.632826521909, 2.106223052485, 0.438875972904],
        [-0.004685255011, 1.297886184042, -0.432968983106, -1.138786968505, 0.522814106956, -0.419828340424, -0.10049841528],
        [-0.426618669664, 0.36852993912, -1.346008037671, -0.178337235742, -0.634446548469, 1.374283008063, -1.074899939625],
        [-0.856029999266, -1.031728587337, -0.295277295443, -1.23176571341, 0.285786691357, 1.665160504637, -0.027444788914],
        [0.741303803432, -0.556324199912, 1.143932500593, -1.589035790201, 0.322799287199, -0.882991504642, -0.368478226271]
    ];
    var bias1 = [0.055231598458, -0.472202296323, 0.532278327315, -0.151857630788, -0.852969589389, -0.438487058111, -0.146289860633];

    var hidden = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
    var i, j;
    for (i = 0; i < 7; i++) {
        for (j = 0; j < 18; j++) {
            hidden[i] = input[j] * weights1[j][i];
        }
        hidden[i] = hidden[i] + bias1[i];
        hidden[i] = 1 / (1 + Math.pow(Math.E, -hidden[i]));
    }

    var weights2 = [
        [-1.152631020287, 0.90194562857, -0.03913628912, 0.022159172546, 0.917425426875, 1.081223817736, 1.198056130578],
        [-0.018133214105, 0.452366139434, -0.407757268865, -0.345676960233, -0.290133250934, -0.780100467612, -0.362420051873],
        [0.026435279411, -0.53986205992, -0.323938406275, 0.131946412466, -0.904457265268, -1.485439141738, -1.117477558908],
        [-1.331431124623, -1.06237431149, 0.567913459307, -2.169328284266, -0.048695151121, 0.498488972002, 0.201882335991],
        [-1.020340779505, 1.734813764859, 1.803809974238, -2.022689013605, -0.766977045176, -0.691223246615, -0.235188479297],
        [-0.033556600161, -0.471464371759, -0.956651087171, 0.915863019581, 0.534230846973, 0.641070102113, 0.314768586592],
        [0.838838074111, 0.67165575863, 2.141229812368, -0.217046091777, 0.502401771077, 0.171223820382, 1.158522652782]
    ];
    var bias2 = [1.106115541873, -0.436971376484, -1.030550101674, 1.408988969169, 0.062155650085, 0.393410611644, -0.412562971953];

    var output = [0, 0, 0, 0, 0, 0, 0];
    for (i = 0; i < 7; i++) {
        for (j = 0; j < 7; j++) {
            output[i] = hidden[j] * weights2[j][i];
        }
        output[i] = output[i] + bias2[i];
        output[i] = 1 / (1 + Math.pow(Math.E, -output[i]));
        output[i] = Math.round(output[i]);
    }

    response.turnLeft = output[0];
    response.turnRight = output[1];
    response.goForward = output[2];
    response.goBack = output[3];
    response.shoot = output[4];
    response.cannonLeft = output[5];
    response.cannonRight = output[6];

    self.postMessage(response);
}
